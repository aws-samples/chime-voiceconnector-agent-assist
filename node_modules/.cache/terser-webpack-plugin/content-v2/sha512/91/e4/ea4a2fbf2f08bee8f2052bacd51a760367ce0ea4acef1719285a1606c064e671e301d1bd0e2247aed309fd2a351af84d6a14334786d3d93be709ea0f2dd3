{"map":{"version":3,"sources":["static/js/main.229e82aa.chunk.js"],"names":["this","push","112","module","exports","118","205","__webpack_exports__","__webpack_require__","Buffer","d","getMergedAudioURL","aws_sdk__WEBPACK_IMPORTED_MODULE_0__","aws_sdk__WEBPACK_IMPORTED_MODULE_0___default","n","aws_amplify__WEBPACK_IMPORTED_MODULE_1__","_aws_exports__WEBPACK_IMPORTED_MODULE_2__","_constants__WEBPACK_IMPORTED_MODULE_3__","defaultRegion","aws_project_region","bucket","oneAudioObject","otherAudioObject","transactionId","currentCredentials","then","creds","lambda","a","Lambda","region","credentials","essentialCredentials","params","FunctionName","InvocationType","from","JSON","stringify","invoke","promise","data","body","parse","Payload","undefined","urlFromLambda","url","config","update","call","222","227","46","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","aws_appsync_graphqlEndpoint","aws_appsync_region","aws_appsync_authenticationType","aws_appsync_apiKey","aws_content_delivery_bucket","aws_content_delivery_bucket_region","aws_content_delivery_url","51","TRANSCRIPT_TABLE_NAME","TRANSCRIPT_TABLE_KEYS","SEARCH_LAMBDA_FUNCTION_NAME","MERGE_AUDIO_LAMBDA_FUNCTION_NAME","MAX_RESULT","ELASTIC_SEARCH_INDEX_NAMES","TRANSACTION_ID","CALL_ID","START_TIME","SPEAKER","END_TIME","SEGMENT_ID","TRANSCRIPT","LOGGED_ON","IS_PARTIAL","IS_FINAL","WAVFILE","METADATA","65","getSignedUrl","retrieveBucketAndKey","retrieveTranscriptForTransactionId","queryCall","searchFunctionName","transcriptTableName","maxRecords","objectKey","S3","signatureVersion","getSignedUrlPromise","Bucket","Key","transactionid","esParams","index","type","size","query","query_string","default_field","output","Records","ddb","DynamoDB","DocumentClient","TableName","KeyConditionExpression","ExpressionAttributeNames","#id","ExpressionAttributeValues",":id","Count","Items","filter","item","IsFinal","keyword","Promise","all","queryTranscriptKeyword","queryMetadataForKeyword","results","transcriptionPromises","metadataPromises","map","TransactionId","metadata","length","result","fromNumber","Direction","direction","StartTimeEpochSeconds","Math","ceil","Date","startTime","EndTimeEpochSeconds","endTime","SourcePhoneNumber","resolve","sort","order","multi_match","match","Transcript","operator","709","710","711","714","715","r","react","react_default","react_dom","react_dom_default","lib_esm","Tabs","Tab","browser","browser_default","aws_amplify_lib_esm","aws_exports","regenerator","regenerator_default","asyncToGenerator","objectSpread2","transcript_defaultRegion","mergeAndComprehendTranscript","segments","mergedSegments","mergeTranscript","Comprehend","forEach","segment","i","Speaker","LanguageCode","Text","detectSentiment","error","sentimentResponse","console","SentimentScore","Negative","Sentiment","concat","toFixed","SentimentClass","Positive","daRow","document","getElementById","tBodies","rows","cells","className","innerText","showSentiment","detectKeyPhrases","keyphraseResponse","Array","isArray","KeyPhrases","keyPhrase","Score","row","innerHTML","replace","showKeyphrases","b","LoggedOn","Object","e","search","Action","AgentAssist_defaultRegion","readTranscript","AgentAssist_AgentAssist","Component","[object Object]","props","super","state","transcript","_this","mark","_callee","observable","addSegmentToState","updateTranscript","wrap","_context","prev","next","readTranscriptPaginationAndUpdate","sent","setState","graphql","updatedTranscript","slice","value","onAnnounceCreateTranscriptSegment","subscribe","complete","log","stop","_callee2","firstPage","nextToken","nextPage","_context2","listTranscriptSegments","items","abrupt","shouldMergeTranscript","latestCall","reduce","acc","curr","currentTransactionId","EndTime","createElement","key","StartTime","href","hidden","id","style","width","onClick","preventDefault","title","agentAssist_AgentAssist","TextField","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","Typography","ExpandMore","ExpandMore_default","Avatar","CallReceived","CallReceived_default","CallMade","CallMade_default","FormControlLabel","Switch","moment","moment_default","elasticsearch","audio","StreamingRecord_StreamingRecord","onExpand","event","expanded","agentLegAudioUrl","callerLegAudioUrl","pairs","urlPromise","pair","Time","urls","mergedAudioUrl","onSwitchChange","requireMerged","target","checked","onChange","expandIcon","aria-controls","getSubContent","unix","fromNow","diffSeconds","duration","formatString","asSeconds","utc","asMilliseconds","format","formatDuration","getDateAndDuration","tr","speaker","lines","keywords","backgroundColor","split","word","matchedKeyword","RegExp","exec","test","e1","e2","highlightTranscript","getDetail","control","label","getMergedSwitch","controls","volume","src","getAudio","search_StreamingRecord","HistorySearch_HistorySearch","handleSearch","currInput","accountId","prevProps","prevState","input","noValidate","autoComlete","variant","fullWidth","helperText","search_HistorySearch","configure","App_App","handleChange","newValue","STS","getCallerIdentity","Account","indicatorColor","textColor","centered","apps_App","Boolean","window","location","hostname","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{112:function(e,t){},118:function(e,t){},205:function(e,t,a){\"use strict\";(function(e){a.d(t,\"a\",(function(){return o}));var n=a(27),r=a.n(n),s=a(20),c=a(46),i=a(51);const l=c.a.aws_project_region;function o(t,a,n,c){return s.b.currentCredentials().then(o=>{const d=new r.a.Lambda({region:l,credentials:s.b.essentialCredentials(o)}),u={FunctionName:i.c,InvocationType:\"RequestResponse\"};return u.Payload=e.from(JSON.stringify({bucket:t,oneAudioObject:a,otherAudioObject:n,transactionId:c})),d.invoke(u).promise().then(e=>{const t=JSON.parse(e.Payload).body;if(void 0!==t){const e=t.url;return void 0===e?\"\":e}return\"\"})})}r.a.config.update({region:l})}).call(this,a(12).Buffer)},222:function(e,t,a){e.exports=a(715)},227:function(e,t,a){},46:function(e,t,a){\"use strict\";t.a={aws_project_region:\"us-east-1\",aws_cognito_identity_pool_id:\"us-east-1:da548ad1-04e6-4632-9a07-1442e38c4763\",aws_cognito_region:\"us-east-1\",aws_user_pools_id:\"us-east-1_LXVMQXoVD\",aws_user_pools_web_client_id:\"2d8pv68eepg1e0brtr0f67pi7u\",oauth:{},aws_appsync_graphqlEndpoint:\"https://hyrd63b2frd2bktcsiclvpzkii.appsync-api.us-east-1.amazonaws.com/graphql\",aws_appsync_region:\"us-east-1\",aws_appsync_authenticationType:\"API_KEY\",aws_appsync_apiKey:\"da2-sk4dq4wjzjbl3lxsxzltgd2ja4\",aws_content_delivery_bucket:\"chime-vc-agentassist-083981752084-hostingbucket-dev\",aws_content_delivery_bucket_region:\"us-east-1\",aws_content_delivery_url:\"http://chime-vc-agentassist-083981752084-hostingbucket-dev.s3-website-us-east-1.amazonaws.com\"}},51:function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return n})),a.d(t,\"e\",(function(){return r})),a.d(t,\"d\",(function(){return s})),a.d(t,\"c\",(function(){return c})),a.d(t,\"b\",(function(){return i})),a.d(t,\"a\",(function(){return l}));const n=\"TranscriptSegment\",r={TRANSACTION_ID:\"TransactionId\",CALL_ID:\"CallId\",START_TIME:\"StartTime\",SPEAKER:\"Speaker\",END_TIME:\"EndTime\",SEGMENT_ID:\"SegmentId\",TRANSCRIPT:\"Transcript\",LOGGED_ON:\"LoggedOn\",IS_PARTIAL:\"IsPartial\",IS_FINAL:\"IsFinal\"},s=\"chime-search-transcript-and-audio\",c=\"chime-retrieve-merged-audio-url\",i=10,l={WAVFILE:\"wavfile\",METADATA:\"metadata\",TRANSCRIPT:\"transcript\"}},65:function(e,t,a){\"use strict\";(function(e){a.d(t,\"a\",(function(){return d})),a.d(t,\"c\",(function(){return u})),a.d(t,\"d\",(function(){return m})),a.d(t,\"b\",(function(){return p}));var n=a(27),r=a.n(n),s=a(20),c=a(46),i=a(51);const l=c.a.aws_project_region;r.a.config.update({region:l});const o={searchFunctionName:i.d,transcriptTableName:i.f,maxRecords:i.b};function d(e,t){return s.b.currentCredentials().then(a=>new r.a.S3({region:l,credentials:s.b.essentialCredentials(a),signatureVersion:\"v4\"}).getSignedUrlPromise(\"getObject\",{Bucket:e,Key:t}))}function u(t){return s.b.currentCredentials().then(a=>{const n=new r.a.Lambda({region:l,credentials:s.b.essentialCredentials(a)}),c={FunctionName:o.searchFunctionName,InvocationType:\"RequestResponse\"},d={index:i.a.WAVFILE,type:\"_doc\",body:{size:2,query:{query_string:{default_field:i.e.TRANSACTION_ID,query:t}}},output:[\"Bucket\",\"Key\",\"Time\"]};return c.Payload=e.from(JSON.stringify(d)),n.invoke(c).promise().then(e=>{const t=JSON.parse(e.Payload).body;return void 0===t||t===[]?[]:JSON.parse(e.Payload).body.Records})})}function m(e){return s.b.currentCredentials().then(t=>{const a=new r.a.DynamoDB.DocumentClient({region:l,credentials:s.b.essentialCredentials(t)}),n={TableName:o.transcriptTableName,KeyConditionExpression:\"#id = :id\",ExpressionAttributeNames:{\"#id\":i.e.TRANSACTION_ID},ExpressionAttributeValues:{\":id\":e}};return a.query(n).promise().then(e=>0===e.Count?[]:e.Items.filter(e=>!0!==e.IsFinal))})}function p(e){return Promise.all([E(e),h(e)]).then(t=>{const a=t[0],n=t[1];return Promise.all([e,a.map(e=>h(e.TransactionId).then(e=>{if(1===e.length)return e[0]})),n])}).then(e=>{const t=[...e[1],...e[2]].map(e=>{const t=void 0!==e.fromNumber||null!==e.fromNumber?e.fromNumber:\"Unknown\";return{TransactionId:e.transactionId,Direction:e.direction,StartTimeEpochSeconds:Math.ceil(new Date(e.startTime)/1e3),EndTimeEpochSeconds:Math.ceil(new Date(e.endTime)/1e3),SourcePhoneNumber:t}});return new Promise(e=>e(t))})}function h(t){return s.b.currentCredentials().then(a=>{const n=new r.a.Lambda({region:l,credentials:s.b.essentialCredentials(a)}),c={FunctionName:o.searchFunctionName,InvocationType:\"RequestResponse\"},d={index:i.a.METADATA,type:\"_doc\",body:{size:o.maxRecords,sort:{startTime:{order:\"desc\"}},query:{multi_match:{type:\"best_fields\",query:t}}},output:[]};return c.Payload=e.from(JSON.stringify(d)),n.invoke(c).promise().then(e=>{const t=JSON.parse(e.Payload).body;return void 0===t||t===[]?[]:JSON.parse(e.Payload).body.Records})})}function E(t){return s.b.currentCredentials().then(a=>{const n=new r.a.Lambda({region:l,credentials:s.b.essentialCredentials(a)}),c={FunctionName:o.searchFunctionName,InvocationType:\"RequestResponse\"},d={index:i.a.TRANSCRIPT,type:\"_doc\",body:{size:o.maxRecords,query:{match:{Transcript:{query:t,operator:\"and\"}}}},output:[]};return c.Payload=e.from(JSON.stringify(d)),n.invoke(c).promise().then(e=>{const t=JSON.parse(e.Payload).body;return void 0===t||t===[]?[]:JSON.parse(e.Payload).body.Records})})}}).call(this,a(12).Buffer)},709:function(e,t,a){},710:function(e,t,a){},711:function(e,t,a){},714:function(e,t,a){},715:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(23),c=a.n(s),i=(a(227),a(74)),l=a(764),o=a(762),d=a(27),u=a.n(d),m=a(20),p=a(46);const h=p.a.aws_project_region;u.a.config.update({region:h});a(709);var E=a(61),g=a.n(E),v=a(83),b=a(211);const S=p.a.aws_project_region;function T(e){const t=f(e);return m.b.currentCredentials().then(e=>{const a=new u.a.Comprehend({region:S,credentials:m.b.essentialCredentials(e)});t.forEach((e,t)=>{if(\"spk_0\"!==e.Speaker){const n={LanguageCode:\"en\",Text:e.Transcript};a.detectSentiment(n,(a,n)=>{!function(e,t,a,n){if(e?console.error(e):n.SentimentScore.Negative>.4?(t.Sentiment=\"-  \".concat(n.SentimentScore.Negative.toFixed(2)),t.SentimentClass=\"s-minus\"):n.SentimentScore.Positive>.65&&(t.Sentiment=\"+  \".concat(n.SentimentScore.Positive.toFixed(2)),t.SentimentClass=\"s-plus\"),t.SentimentClass){const e=document.getElementById(\"ttlist\").tBodies[0].rows[a];e&&(e.cells[2].className=t.SentimentClass,e.cells[2].innerText=t.Sentiment)}}(a,e,t,n)}),a.detectKeyPhrases(n,(e,a)=>{!function(e,t,a,n){e?console.error(e):Array.isArray(n.KeyPhrases)&&n.KeyPhrases.forEach(e=>{if(e.Score>.75){const t=document.getElementById(\"ttlist\").tBodies[0].rows[a];t&&(t.cells[4].innerHTML=t.cells[4].innerHTML.replace(e.Text,'<span class=\"hl\">'.concat(e.Text,\"</span>\")))}})}(e,0,t,a)})}})}),t}function f(e){e.sort((function(e,t){return e.TransactionId<t.TransactionId?-1:e.TransactionId>t.TransactionId?1:e.LoggedOn-t.LoggedOn}));const t=[];return e.forEach(e=>{t.length>0&&t[t.length-1].Speaker===e.Speaker?t[t.length-1].Transcript+=\" \".concat(e.Transcript):t.push(Object(b.a)({},e))}),t.forEach(e=>{e.Transcript&&(-1!==e.Transcript.search(/\\baccount[a-z]* \\b(num)[a-z]* \\b[a-z]*/i)&&(e.Action=\"ClientSnapshot\"),-1!==e.Transcript.search(/\\bmiss[a-z]* \\b[a-z]*\\b \\b(connect|flight)[a-z]*/i)&&(e.Action=\"ConnectionDoctor\"))}),t}u.a.config.update({region:S});a(710);const N=p.a.aws_project_region;u.a.config.update({region:N});const y='\\nquery listTranscriptSegments($nextToken: String = \"\") {\\n    listTranscriptSegments(nextToken: $nextToken) {\\n        items {\\n            TransactionId\\n                StartTime\\n                Speaker\\n                EndTime\\n                Transcript\\n                LoggedOn\\n        },\\n        nextToken\\n    }\\n}\\n';class C extends r.a.Component{constructor(e){super(e),this.state={transcript:[]}}componentDidMount(){var e=this;return Object(v.a)(g.a.mark((function t(){var a,n,r,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.readTranscriptPaginationAndUpdate();case 2:return a=t.sent,e.setState({transcript:a}),t.next=6,m.a.graphql(Object(m.d)(\"subscription {\\n    onAnnounceCreateTranscriptSegment {\\n        TransactionId\\n            StartTime\\n            Speaker\\n            EndTime\\n            Transcript\\n            LoggedOn\\n    }\\n}\\n\"));case 6:n=t.sent,r=t=>{e.setState(e=>{const a=e.transcript.slice();return a.push(t),{transcript:a}})},s=e=>{const t=e.value.data.onAnnounceCreateTranscriptSegment;r(t)},n.subscribe({next:s,complete:console.log,error:console.error});case 10:case\"end\":return t.stop()}}),t)})))()}readTranscriptPaginationAndUpdate(){return Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,m.a.graphql(Object(m.d)(y));case 3:a=e.sent,n=a.data.listTranscriptSegments.nextToken,t=t.concat(a.data.listTranscriptSegments.items);case 6:if(null===n){e.next=14;break}return e.next=9,m.a.graphql(Object(m.d)(y,{nextToken:n}));case 9:r=e.sent,n=r.data.listTranscriptSegments.nextToken,t=t.concat(r.data.listTranscriptSegments.items),e.next=6;break;case 14:return e.abrupt(\"return\",t);case 15:case\"end\":return e.stop()}}),e)})))()}shouldMergeTranscript(){return this.props.value===this.props.index}render(){let e=[];if(this.shouldMergeTranscript()){const t=this.state.transcript.reduce((e,t)=>null!==e&&e.LoggedOn>t.LoggedOn?e:t,null),a=null===t?null:t.TransactionId;e=[].concat(this.state.transcript.filter(e=>e.TransactionId===a&&null!==e.EndTime)),e=T(e).map((e,t)=>r.a.createElement(\"tr\",{key:t},r.a.createElement(\"td\",null,e.StartTime.toFixed(3)),r.a.createElement(\"td\",null,e.Speaker&&\"spk_0\"===e.Speaker?\"agent\":\"caller\"),r.a.createElement(\"td\",{className:e.SentimentClass?e.SentimentClass:\"s-none\"},e.Sentiment?e.Sentiment:\"\"),r.a.createElement(\"td\",null,e.Action&&\"ClientSnapshot\"===e.Action?r.a.createElement(\"a\",{href:\"#modal2\",className:\"action\"},\"Client Snapshot\"):\"\"),r.a.createElement(\"td\",{className:\"transcript-note\"},e.Transcript)))}return r.a.createElement(\"div\",{className:\"AssistAgent\",hidden:this.props.value!==this.props.index},r.a.createElement(\"table\",{id:\"ttlist\",className:\"transcript\"},r.a.createElement(\"thead\",{className:\"transcript\"},r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Start\"),r.a.createElement(\"th\",null,\"Speaker\"),r.a.createElement(\"th\",{style:{width:\"3em\"}},\"\\xb1\"),r.a.createElement(\"th\",null,\"Action\"),r.a.createElement(\"th\",{style:{width:\"60%\"}},\"Transcript\",r.a.createElement(\"a\",{href:\"#a\",onClick:e=>{this.setState({transcript:[]}),e.preventDefault()},title:\"Clear transcript\"},\"\\u2205\")))),r.a.createElement(\"tbody\",null,e)),r.a.createElement(\"div\",{id:\"modal1\",className:\"overlay\"},r.a.createElement(\"a\",{className:\"cancel\",href:\"#a\",title:\"Close modal\"},\" \"),r.a.createElement(\"div\",{className:\"modal\"},r.a.createElement(\"h1\",null,\"Connection Doctor\"),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(\"table\",null,r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"PNR: \"),r.a.createElement(\"td\",null,\"CJK1Z3\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"PAX: \"),r.a.createElement(\"td\",null,\"Johnson/Jonas\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Itinerary: \"),r.a.createElement(\"td\",null,\"LGA/MIA NA 1211 1219/1531 (now 1600/1912)\",r.a.createElement(\"br\",null),\"CONN 134 min (now *MISSED*)\",r.a.createElement(\"br\",null),\"MIA/SJU NA 2561 1745/2026\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Remediation\"),r.a.createElement(\"td\",null,r.a.createElement(\"span\",{className:\"opt\",onClick:()=>console.log(\"Internal\")},\"Internal (0)\"),r.a.createElement(\"span\",{className:\"opt\",onClick:()=>console.log(\"Codeshare\")},\"Codeshare (2)\"),r.a.createElement(\"span\",{className:\"opt\",onClick:()=>console.log(\"Other\")},\"Other (10+)\")))))))),r.a.createElement(\"div\",{id:\"modal2\",className:\"overlay\"},r.a.createElement(\"a\",{className:\"cancel\",href:\"#a\",title:\"Close modal\"},\" \"),r.a.createElement(\"div\",{className:\"modal\"},r.a.createElement(\"h1\",null,\"Client Snapshot\"),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(\"table\",null,r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Account: \"),r.a.createElement(\"td\",null,\"PC1234\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"User: \"),r.a.createElement(\"td\",null,\"joe@joey.com\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Software: \"),r.a.createElement(\"td\",null,\"PowerChart 1.35 (upgraded 12-Feb-2020 3:02 PM UTC)\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Remediation\"),r.a.createElement(\"td\",null,r.a.createElement(\"span\",{className:\"opt\",onClick:()=>console.log(\"ReleaseNotes\")},\"Release notes\"),r.a.createElement(\"span\",{className:\"opt\",onClick:()=>console.log(\"Manager\")},\"Mgr. Escalation\"),r.a.createElement(\"span\",{className:\"opt\",onClick:()=>console.log(\"Credits\")},\"Credits\")))))))))}}var A=Object(i.a)(C,!1),I=a(763),w=a(765),_=a(760),k=a(761),x=a(717),O=a(207),P=a.n(O),R=a(767),L=a(208),M=a.n(L),j=a(209),D=a.n(j),q=a(758),U=a(766),F=a(104),J=a.n(F),z=a(65),B=a(205);a(711);class K extends r.a.Component{constructor(e){super(e),this.onExpand=(e,t)=>{!0!==t||void 0!==this.state.agentLegAudioUrl&&void 0!==this.state.callerLegAudioUrl||Object(z.c)(this.state.metadata.TransactionId).then(e=>{if(0===e.length)return;const t=e.map(e=>{if(void 0!==e.Bucket&&void 0!==e.Key&&void 0!==e.Time)return Object(z.a)(e.Bucket,e.Key)});if(Promise.all(t).then(e=>{this.setState({callerLegAudioUrl:e[0],agentLegAudioUrl:e[1]})}),void 0===this.state.mergedAudioUrl){const t=e[0].Bucket,a=e[0],n=e[1];Object(B.a)(t,a,n,this.state.metadata.TransactionId).then(e=>{this.setState({mergedAudioUrl:e})})}})},this.onSwitchChange=e=>{this.setState({requireMerged:e.target.checked})},this.state={metadata:this.props.metadata,transcript:[],requireMerged:!1,keyword:this.props.keyword}}updateTranscript(){Object(z.d)(this.state.metadata.TransactionId).then(e=>{this.setState({transcript:f(e)})})}componentDidMount(){this.updateTranscript()}render(){return r.a.createElement(\"div\",{className:\"root\"},r.a.createElement(w.a,{onChange:this.onExpand},r.a.createElement(_.a,{expandIcon:r.a.createElement(P.a,null),\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\"},r.a.createElement(\"div\",{className:\"avater-col\"},r.a.createElement(R.a,null,\"Inbound\"===this.state.metadata.Direction?r.a.createElement(M.a,null):r.a.createElement(D.a,null))),r.a.createElement(\"div\",{className:\"main-col\"},r.a.createElement(\"div\",{className:\"number-header-row\"},r.a.createElement(x.a,{className:\"number-header\"},\"From: \",this.state.metadata.SourcePhoneNumber)),r.a.createElement(\"div\",{className:\"sub-content-row\"},r.a.createElement(x.a,{className:\"sub-content\"},(()=>void 0===this.state.transcript?\"(waiting for transcript retrivement...)\":0===this.state.transcript.length?\"Cannot translate the streaming audio\":this.state.transcript[0].Transcript+\" (click for more)\")()))),r.a.createElement(\"div\",{className:\"right-col\"},(()=>void 0===this.state.metadata.EndTimeEpochSeconds?r.a.createElement(\"div\",null,r.a.createElement(x.a,{className:\"third-heading\"},\"In Call\")):r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,r.a.createElement(x.a,{className:\"third-heading\"},J.a.unix(this.state.metadata.StartTimeEpochSeconds).fromNow())),r.a.createElement(\"div\",null,r.a.createElement(x.a,{className:\"third-heading\"},(e=>{const t=J.a.duration(e,\"seconds\");let a=\"H[h] m[m] s[s]\";return t.asSeconds()<3600&&(a=\"m[m] s[s]\"),J.a.utc(t.asMilliseconds()).format(a)})(this.state.metadata.EndTimeEpochSeconds-this.state.metadata.StartTimeEpochSeconds)))))())),r.a.createElement(k.a,null,r.a.createElement(\"div\",{className:\"panel-detail\"},(()=>void 0===this.state.transcript?r.a.createElement(x.a,null,\" (Retrieving transcripts ...) \"):0===this.state.transcript.length?r.a.createElement(\"div\",{className:\"transcript\"},r.a.createElement(x.a,null,\"Transcript is not applicable\")):r.a.createElement(\"div\",{className:\"transcript\"},this.state.transcript.map(e=>((e,t,a)=>{const n={backgroundColor:\"wheat\"};return r.a.createElement(x.a,null,\" \",\"spk_0\"===e?\"Caller: \":\"Agent: \",t.split(\" \").map(e=>!0===a.split(\" \").map(t=>{if(\"\"===t)return!1;const a=new RegExp(\"[0-9a-zA-Z,?.' ]+\",\"i\").exec(t)[0];return!!new RegExp(a+\"[,.?]?$\",\"i\").test(e)}).reduce((e,t)=>e||t)?r.a.createElement(\"span\",{style:n},e,\" \"):e+\" \"))})(e.Speaker,e.Transcript,this.state.keyword))))(),(()=>r.a.createElement(\"div\",null,r.a.createElement(q.a,{control:r.a.createElement(U.a,{size:\"small\",checked:this.state.requireMerged,onChange:this.onSwitchChange}),label:\"Merge audio?\"})))(),(()=>this.state.requireMerged?r.a.createElement(\"div\",{className:\"audio\"},r.a.createElement(\"div\",{className:\"merged-audio\"},r.a.createElement(\"p\",null,\"Merged Audio\"),void 0!==this.state.mergedAudioUrl?r.a.createElement(\"audio\",{controls:!0,volume:\"0.1\",id:\"audio\",className:\"stream-audio\",src:this.state.mergedAudioUrl}):r.a.createElement(x.a,null,\" Merged streaming audio is not applicable\"))):r.a.createElement(\"div\",{className:\"audio\"},r.a.createElement(\"div\",{className:\"caller-leg\"},r.a.createElement(\"p\",null,\"Caller leg\"),void 0!==this.state.callerLegAudioUrl?r.a.createElement(\"audio\",{controls:!0,volume:\"0.1\",id:\"audio\",className:\"stream-audio\",src:this.state.callerLegAudioUrl}):r.a.createElement(x.a,null,\" Caller streaming audio is not applicable\")),r.a.createElement(\"div\",{className:\"agent-leg\"},r.a.createElement(\"p\",null,\"Agent leg\"),void 0!==this.state.agentLegAudioUrl?r.a.createElement(\"audio\",{controls:!0,volume:\"0.1\",id:\"audio\",className:\"stream-audio\",src:this.state.agentLegAudioUrl}):r.a.createElement(x.a,null,\" Agent streaming audio is not applicable\"))))()))))}}var V=K;a(714);class W extends r.a.Component{constructor(e){super(e),this.handleSearch=e=>{this.setState({currInput:e.target.value})},this.state={metadata:[],currInput:\"\"}}componentDidMount(){Object(z.b)(this.props.accountId).then(e=>{this.setState({currInput:this.props.accountId,metadata:e})})}componentDidUpdate(e,t){const a=this.state.currInput;this.state.currInput!==t.currInput&&Object(z.b)(this.state.currInput).then(e=>{a===this.state.currInput&&(this.setState({metadata:[]}),this.setState({metadata:e}))})}render(){return r.a.createElement(\"div\",{className:\"HistorySearch\",hidden:this.props.value!==this.props.index},r.a.createElement(\"div\",{className:\"search-text-field\"},r.a.createElement(\"form\",{noValidate:!0,autoComlete:\"off\"},r.a.createElement(I.a,{variant:\"outlined\",label:\"Search\",id:\"searchField\",fullWidth:!0,onChange:this.handleSearch,helperText:\"Keyword includes metadata(account id, voice connector id, phone number, header, timestamp, etc) or Transcription\"}))),r.a.createElement(\"div\",null,this.state.metadata.map((e,t)=>r.a.createElement(V,{key:t,metadata:e,keyword:this.state.currInput}))))}}var G=Object(i.a)(W,!1);m.c.configure(p.a);class H extends n.Component{constructor(e){super(e),this.handleChange=(e,t)=>{this.setState({value:t})},this.state={value:\"0\",accountId:\"\"}}componentDidMount(){document.title=\"Chime Vx - Agent Assist\",m.b.currentCredentials().then(e=>new u.a.STS({region:h,credentials:m.b.essentialCredentials(e)}).getCallerIdentity({}).promise()).then(e=>{this.setState({accountId:e.Account})})}render(){return r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(\"header\",{className:\"App-header\"},r.a.createElement(\"h1\",{className:\"App-title\"},\"Agent Assist (Chime Vx)\")),r.a.createElement(\"br\",null),r.a.createElement(l.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:\"primary\",textColor:\"primary\",centered:!0},r.a.createElement(o.a,{label:\"ActiveCall\",value:\"0\"}),r.a.createElement(o.a,{label:\"Search\",value:\"1\"})),r.a.createElement(A,{value:this.state.value,index:\"0\"}),r.a.createElement(G,{accountId:this.state.accountId,value:this.state.value,index:\"1\"}))}}var $=Object(i.a)(H,!0);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement($,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[222,1,2]]]);","extractedComments":[]}