{"ast":null,"code":"/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nexport function calcKey(file, fileToKey) {\n  var name = file.name,\n      size = file.size,\n      type = file.type;\n  var key = encodeURI(name);\n\n  if (fileToKey) {\n    var callback_type = typeof fileToKey;\n\n    if (callback_type === 'string') {\n      key = fileToKey;\n    } else if (callback_type === 'function') {\n      key = fileToKey({\n        name: name,\n        size: size,\n        type: type\n      });\n    } else {\n      key = encodeURI(JSON.stringify(fileToKey));\n    }\n\n    if (!key) {\n      key = 'empty_key';\n    }\n  }\n\n  return key.replace(/\\s/g, '_');\n}","map":{"version":3,"sources":["../../src/Storage/Common.tsx"],"names":[],"mappings":"AAAA;;;;;;;;;;;;AAaA,OAAM,SAAU,OAAV,CAAkB,IAAlB,EAAwB,SAAxB,EAAiC;AAC9B,MAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AAAA,MAAM,IAAA,GAAA,IAAA,CAAA,IAAN;AAAA,MAAY,IAAA,GAAA,IAAA,CAAA,IAAZ;AACR,MAAI,GAAG,GAAG,SAAS,CAAC,IAAD,CAAnB;;AACA,MAAI,SAAJ,EAAe;AACd,QAAM,aAAa,GAAG,OAAO,SAA7B;;AACA,QAAI,aAAa,KAAK,QAAtB,EAAgC;AAC/B,MAAA,GAAG,GAAG,SAAN;AACA,KAFD,MAEO,IAAI,aAAa,KAAK,UAAtB,EAAkC;AACxC,MAAA,GAAG,GAAG,SAAS,CAAC;AAAE,QAAA,IAAI,EAAA,IAAN;AAAQ,QAAA,IAAI,EAAA,IAAZ;AAAc,QAAA,IAAI,EAAA;AAAlB,OAAD,CAAf;AACA,KAFM,MAEA;AACN,MAAA,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,SAAL,CAAe,SAAf,CAAD,CAAf;AACA;;AACD,QAAI,CAAC,GAAL,EAAU;AACT,MAAA,GAAG,GAAG,WAAN;AACA;AACD;;AAED,SAAO,GAAG,CAAC,OAAJ,CAAY,KAAZ,EAAmB,GAAnB,CAAP;AACA","sourceRoot":"","sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nexport function calcKey(file, fileToKey) {\n    var name = file.name, size = file.size, type = file.type;\n    var key = encodeURI(name);\n    if (fileToKey) {\n        var callback_type = typeof fileToKey;\n        if (callback_type === 'string') {\n            key = fileToKey;\n        }\n        else if (callback_type === 'function') {\n            key = fileToKey({ name: name, size: size, type: type });\n        }\n        else {\n            key = encodeURI(JSON.stringify(fileToKey));\n        }\n        if (!key) {\n            key = 'empty_key';\n        }\n    }\n    return key.replace(/\\s/g, '_');\n}\n//# sourceMappingURL=Common.js.map"]},"metadata":{},"sourceType":"module"}