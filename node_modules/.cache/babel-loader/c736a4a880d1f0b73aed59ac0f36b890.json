{"ast":null,"code":"/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport { I18n, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport Auth from '@aws-amplify/auth';\nimport AuthPiece from './AuthPiece';\nimport { FormSection, SectionHeader, SectionBody, SectionFooter, Button, Link, InputLabel, Input, SectionFooterPrimaryContent, SectionFooterSecondaryContent, FormField, Hint } from '../Amplify-UI/Amplify-UI-Components-React';\nimport { auth } from '../Amplify-UI/data-test-attributes';\nvar logger = new Logger('ConfirmSignUp');\n\nvar ConfirmSignUp =\n/** @class */\nfunction (_super) {\n  __extends(ConfirmSignUp, _super);\n\n  function ConfirmSignUp(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._validAuthStates = ['confirmSignUp'];\n    _this.confirm = _this.confirm.bind(_this);\n    _this.resend = _this.resend.bind(_this);\n    return _this;\n  }\n\n  ConfirmSignUp.prototype.confirm = function () {\n    var _this = this;\n\n    var username = this.usernameFromAuthData() || this.inputs.username;\n    var code = this.inputs.code;\n\n    if (!Auth || typeof Auth.confirmSignUp !== 'function') {\n      throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n    }\n\n    Auth.confirmSignUp(username, code).then(function () {\n      return _this.changeState('signedUp');\n    }).catch(function (err) {\n      return _this.error(err);\n    });\n  };\n\n  ConfirmSignUp.prototype.resend = function () {\n    var _this = this;\n\n    var username = this.usernameFromAuthData() || this.inputs.username;\n\n    if (!Auth || typeof Auth.resendSignUp !== 'function') {\n      throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n    }\n\n    Auth.resendSignUp(username).then(function () {\n      return logger.debug('code resent');\n    }).catch(function (err) {\n      return _this.error(err);\n    });\n  };\n\n  ConfirmSignUp.prototype.showComponent = function (theme) {\n    var _this = this;\n\n    var hide = this.props.hide;\n    var username = this.usernameFromAuthData();\n\n    if (hide && hide.includes(ConfirmSignUp)) {\n      return null;\n    }\n\n    return React.createElement(FormSection, {\n      theme: theme,\n      \"data-test\": auth.confirmSignUp.section\n    }, React.createElement(SectionHeader, {\n      theme: theme,\n      \"data-test\": auth.confirmSignUp.headerSection\n    }, I18n.get('Confirm Sign Up')), React.createElement(SectionBody, {\n      theme: theme,\n      \"data-test\": auth.confirmSignUp.bodySection\n    }, React.createElement(FormField, {\n      theme: theme\n    }, React.createElement(InputLabel, {\n      theme: theme\n    }, I18n.get(this.getUsernameLabel()), \" *\"), React.createElement(Input, {\n      placeholder: I18n.get('Username'),\n      theme: theme,\n      key: \"username\",\n      name: \"username\",\n      onChange: this.handleInputChange,\n      disabled: username,\n      value: username ? username : '',\n      \"data-test\": auth.confirmSignUp.usernameInput\n    })), React.createElement(FormField, {\n      theme: theme\n    }, React.createElement(InputLabel, {\n      theme: theme\n    }, I18n.get('Confirmation Code'), \" *\"), React.createElement(Input, {\n      autoFocus: true,\n      placeholder: I18n.get('Enter your code'),\n      theme: theme,\n      key: \"code\",\n      name: \"code\",\n      autoComplete: \"off\",\n      onChange: this.handleInputChange,\n      \"data-test\": auth.confirmSignUp.confirmationCodeInput\n    }), React.createElement(Hint, {\n      theme: theme\n    }, I18n.get('Lost your code? '), React.createElement(Link, {\n      theme: theme,\n      onClick: this.resend,\n      \"data-test\": auth.confirmSignUp.resendCodeLink\n    }, I18n.get('Resend Code'))))), React.createElement(SectionFooter, {\n      theme: theme\n    }, React.createElement(SectionFooterPrimaryContent, {\n      theme: theme\n    }, React.createElement(Button, {\n      theme: theme,\n      onClick: this.confirm,\n      \"data-test\": auth.confirmSignUp.confirmButton\n    }, I18n.get('Confirm'))), React.createElement(SectionFooterSecondaryContent, {\n      theme: theme\n    }, React.createElement(Link, {\n      theme: theme,\n      onClick: function onClick() {\n        return _this.changeState('signIn');\n      },\n      \"data-test\": auth.confirmSignUp.backToSignInLink\n    }, I18n.get('Back to Sign In')))));\n  };\n\n  return ConfirmSignUp;\n}(AuthPiece);\n\nexport default ConfirmSignUp;","map":{"version":3,"sources":["../../src/Auth/ConfirmSignUp.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { I18n, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport Auth from '@aws-amplify/auth';\nimport AuthPiece from './AuthPiece';\nimport { FormSection, SectionHeader, SectionBody, SectionFooter, Button, Link, InputLabel, Input, SectionFooterPrimaryContent, SectionFooterSecondaryContent, FormField, Hint, } from '../Amplify-UI/Amplify-UI-Components-React';\nimport { auth } from '../Amplify-UI/data-test-attributes';\nvar logger = new Logger('ConfirmSignUp');\nvar ConfirmSignUp = /** @class */ (function (_super) {\n    __extends(ConfirmSignUp, _super);\n    function ConfirmSignUp(props) {\n        var _this = _super.call(this, props) || this;\n        _this._validAuthStates = ['confirmSignUp'];\n        _this.confirm = _this.confirm.bind(_this);\n        _this.resend = _this.resend.bind(_this);\n        return _this;\n    }\n    ConfirmSignUp.prototype.confirm = function () {\n        var _this = this;\n        var username = this.usernameFromAuthData() || this.inputs.username;\n        var code = this.inputs.code;\n        if (!Auth || typeof Auth.confirmSignUp !== 'function') {\n            throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n        }\n        Auth.confirmSignUp(username, code)\n            .then(function () { return _this.changeState('signedUp'); })\n            .catch(function (err) { return _this.error(err); });\n    };\n    ConfirmSignUp.prototype.resend = function () {\n        var _this = this;\n        var username = this.usernameFromAuthData() || this.inputs.username;\n        if (!Auth || typeof Auth.resendSignUp !== 'function') {\n            throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n        }\n        Auth.resendSignUp(username)\n            .then(function () { return logger.debug('code resent'); })\n            .catch(function (err) { return _this.error(err); });\n    };\n    ConfirmSignUp.prototype.showComponent = function (theme) {\n        var _this = this;\n        var hide = this.props.hide;\n        var username = this.usernameFromAuthData();\n        if (hide && hide.includes(ConfirmSignUp)) {\n            return null;\n        }\n        return (React.createElement(FormSection, { theme: theme, \"data-test\": auth.confirmSignUp.section },\n            React.createElement(SectionHeader, { theme: theme, \"data-test\": auth.confirmSignUp.headerSection }, I18n.get('Confirm Sign Up')),\n            React.createElement(SectionBody, { theme: theme, \"data-test\": auth.confirmSignUp.bodySection },\n                React.createElement(FormField, { theme: theme },\n                    React.createElement(InputLabel, { theme: theme },\n                        I18n.get(this.getUsernameLabel()),\n                        \" *\"),\n                    React.createElement(Input, { placeholder: I18n.get('Username'), theme: theme, key: \"username\", name: \"username\", onChange: this.handleInputChange, disabled: username, value: username ? username : '', \"data-test\": auth.confirmSignUp.usernameInput })),\n                React.createElement(FormField, { theme: theme },\n                    React.createElement(InputLabel, { theme: theme },\n                        I18n.get('Confirmation Code'),\n                        \" *\"),\n                    React.createElement(Input, { autoFocus: true, placeholder: I18n.get('Enter your code'), theme: theme, key: \"code\", name: \"code\", autoComplete: \"off\", onChange: this.handleInputChange, \"data-test\": auth.confirmSignUp.confirmationCodeInput }),\n                    React.createElement(Hint, { theme: theme },\n                        I18n.get('Lost your code? '),\n                        React.createElement(Link, { theme: theme, onClick: this.resend, \"data-test\": auth.confirmSignUp.resendCodeLink }, I18n.get('Resend Code'))))),\n            React.createElement(SectionFooter, { theme: theme },\n                React.createElement(SectionFooterPrimaryContent, { theme: theme },\n                    React.createElement(Button, { theme: theme, onClick: this.confirm, \"data-test\": auth.confirmSignUp.confirmButton }, I18n.get('Confirm'))),\n                React.createElement(SectionFooterSecondaryContent, { theme: theme },\n                    React.createElement(Link, { theme: theme, onClick: function () { return _this.changeState('signIn'); }, \"data-test\": auth.confirmSignUp.backToSignInLink }, I18n.get('Back to Sign In'))))));\n    };\n    return ConfirmSignUp;\n}(AuthPiece));\nexport default ConfirmSignUp;\n//# sourceMappingURL=ConfirmSignUp.js.map"]},"metadata":{},"sourceType":"module"}