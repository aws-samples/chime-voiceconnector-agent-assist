{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\nimport AWS from'aws-sdk';import{Auth}from'aws-amplify';import awsExports from'../aws-exports';const defaultRegion=awsExports.aws_project_region;AWS.config.update({region:defaultRegion});export function getAWSAccountId(){return Auth.currentCredentials().then(creds=>{const sts=new AWS.STS({region:defaultRegion,credentials:Auth.essentialCredentials(creds)});return sts.getCallerIdentity({}).promise();});}","map":{"version":3,"sources":["/home/ec2-user/chime-voiceconnector-agent-assist/src/utils/sts.js"],"names":["AWS","Auth","awsExports","defaultRegion","aws_project_region","config","update","region","getAWSAccountId","currentCredentials","then","creds","sts","STS","credentials","essentialCredentials","getCallerIdentity","promise"],"mappings":"AAAA;AACA;AAEA,MAAOA,CAAAA,GAAP,KAAgB,SAAhB,CACA,OAASC,IAAT,KAAqB,aAArB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,gBAAvB,CAEA,KAAMC,CAAAA,aAAa,CAAGD,UAAU,CAACE,kBAAjC,CACAJ,GAAG,CAACK,MAAJ,CAAWC,MAAX,CAAkB,CAAEC,MAAM,CAAEJ,aAAV,CAAlB,EAEA,MAAO,SAASK,CAAAA,eAAT,EAA2B,CAChC,MAAOP,CAAAA,IAAI,CAACQ,kBAAL,GAA0BC,IAA1B,CAA+BC,KAAK,EAAI,CAC7C,KAAMC,CAAAA,GAAG,CAAG,GAAIZ,CAAAA,GAAG,CAACa,GAAR,CAAY,CACtBN,MAAM,CAAEJ,aADc,CAEtBW,WAAW,CAAEb,IAAI,CAACc,oBAAL,CAA0BJ,KAA1B,CAFS,CAAZ,CAAZ,CAIA,MAAOC,CAAAA,GAAG,CAACI,iBAAJ,CAAsB,EAAtB,EAA0BC,OAA1B,EAAP,CACD,CANM,CAAP,CAOD","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport AWS from 'aws-sdk';\nimport { Auth } from 'aws-amplify';\n\nimport awsExports from '../aws-exports';\n\nconst defaultRegion = awsExports.aws_project_region;\nAWS.config.update({ region: defaultRegion });\n\nexport function getAWSAccountId() {\n  return Auth.currentCredentials().then(creds => {\n    const sts = new AWS.STS({\n      region: defaultRegion,\n      credentials: Auth.essentialCredentials(creds),\n    });\n    return sts.getCallerIdentity({}).promise();\n  });\n}\n"]},"metadata":{},"sourceType":"module"}