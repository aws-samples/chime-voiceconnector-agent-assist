{"version":3,"file":"subscription.js","sourceRoot":"","sources":["../../src/server/subscription.ts"],"names":[],"mappings":"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"}